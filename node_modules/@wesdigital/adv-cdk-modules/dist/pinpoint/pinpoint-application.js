"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PinpointApplication = void 0;
const constructs_1 = require("constructs");
const aws_pinpoint_1 = require("aws-cdk-lib/aws-pinpoint");
class PinpointApplication extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        // Create a Pinpoint Application (aka Project)
        // NB There are no (L2) constructs for this service yet.
        //    We have to use the automatically generated L1 constructs, and use this service exactly as we would
        //    using CloudFormation directly.
        //
        const pinpointApplication = new aws_pinpoint_1.CfnApp(this, `${props.pinpointApplicationName}-app`, {
            name: props.pinpointApplicationName
        });
        this._pinpoint = pinpointApplication;
        // And also enable a Pinpoint SMS Channel
        if (props.createSMSChannel) {
            new aws_pinpoint_1.CfnSMSChannel(this, `${props.pinpointApplicationName}-sms`, {
                applicationId: `${pinpointApplication.ref}`,
                enabled: true
            });
        }
    }
    get pinpoint() {
        return this._pinpoint;
    }
}
exports.PinpointApplication = PinpointApplication;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlucG9pbnQtYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvcGlucG9pbnQvcGlucG9pbnQtYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQXNDO0FBQ3RDLDJEQUFnRTtBQU9oRSxNQUFhLG1CQUFvQixTQUFRLHNCQUFTO0lBT2hELFlBQWEsS0FBZ0IsRUFBRSxFQUFVLEVBQUUsS0FBK0I7UUFDdEUsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUVoQiw4Q0FBOEM7UUFDOUMsd0RBQXdEO1FBQ3hELHdHQUF3RztRQUN4RyxvQ0FBb0M7UUFDcEMsRUFBRTtRQUNGLE1BQU0sbUJBQW1CLEdBQUcsSUFBSSxxQkFBTSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyx1QkFBdUIsTUFBTSxFQUFFO1lBQ2pGLElBQUksRUFBRSxLQUFLLENBQUMsdUJBQXVCO1NBQ3RDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxTQUFTLEdBQUcsbUJBQW1CLENBQUE7UUFFcEMseUNBQXlDO1FBQ3pDLElBQUksS0FBSyxDQUFDLGdCQUFnQixFQUFFO1lBQ3hCLElBQUksNEJBQWEsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsdUJBQXVCLE1BQU0sRUFBRTtnQkFDNUQsYUFBYSxFQUFFLEdBQUcsbUJBQW1CLENBQUMsR0FBRyxFQUFFO2dCQUMzQyxPQUFPLEVBQUUsSUFBSTthQUNoQixDQUFDLENBQUE7U0FDTDtJQUNMLENBQUM7SUEzQkMsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFBO0lBQ3pCLENBQUM7Q0EwQko7QUE3QkQsa0RBNkJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cydcbmltcG9ydCB7IENmbkFwcCwgQ2ZuU01TQ2hhbm5lbCB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1waW5wb2ludCdcblxuZXhwb3J0IGludGVyZmFjZSBQaW5wb2ludEFwcGxpY2F0aW9uUHJvcHMge1xuICBjcmVhdGVTTVNDaGFubmVsOiBib29sZWFuXG4gIHBpbnBvaW50QXBwbGljYXRpb25OYW1lOiBzdHJpbmdcbn1cblxuZXhwb3J0IGNsYXNzIFBpbnBvaW50QXBwbGljYXRpb24gZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAgIGdldCBwaW5wb2ludCAoKTogQ2ZuQXBwIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpbnBvaW50XG4gICAgfVxuXG4gIHByaXZhdGUgcmVhZG9ubHkgX3BpbnBvaW50OiBDZm5BcHBcblxuICBjb25zdHJ1Y3RvciAoc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IFBpbnBvaW50QXBwbGljYXRpb25Qcm9wcykge1xuICAgICAgc3VwZXIoc2NvcGUsIGlkKVxuXG4gICAgICAvLyBDcmVhdGUgYSBQaW5wb2ludCBBcHBsaWNhdGlvbiAoYWthIFByb2plY3QpXG4gICAgICAvLyBOQiBUaGVyZSBhcmUgbm8gKEwyKSBjb25zdHJ1Y3RzIGZvciB0aGlzIHNlcnZpY2UgeWV0LlxuICAgICAgLy8gICAgV2UgaGF2ZSB0byB1c2UgdGhlIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIEwxIGNvbnN0cnVjdHMsIGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGV4YWN0bHkgYXMgd2Ugd291bGRcbiAgICAgIC8vICAgIHVzaW5nIENsb3VkRm9ybWF0aW9uIGRpcmVjdGx5LlxuICAgICAgLy9cbiAgICAgIGNvbnN0IHBpbnBvaW50QXBwbGljYXRpb24gPSBuZXcgQ2ZuQXBwKHRoaXMsIGAke3Byb3BzLnBpbnBvaW50QXBwbGljYXRpb25OYW1lfS1hcHBgLCB7XG4gICAgICAgICAgbmFtZTogcHJvcHMucGlucG9pbnRBcHBsaWNhdGlvbk5hbWVcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuX3BpbnBvaW50ID0gcGlucG9pbnRBcHBsaWNhdGlvblxuXG4gICAgICAvLyBBbmQgYWxzbyBlbmFibGUgYSBQaW5wb2ludCBTTVMgQ2hhbm5lbFxuICAgICAgaWYgKHByb3BzLmNyZWF0ZVNNU0NoYW5uZWwpIHtcbiAgICAgICAgICBuZXcgQ2ZuU01TQ2hhbm5lbCh0aGlzLCBgJHtwcm9wcy5waW5wb2ludEFwcGxpY2F0aW9uTmFtZX0tc21zYCwge1xuICAgICAgICAgICAgICBhcHBsaWNhdGlvbklkOiBgJHtwaW5wb2ludEFwcGxpY2F0aW9uLnJlZn1gLFxuICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgIH1cbiAgfVxufVxuIl19