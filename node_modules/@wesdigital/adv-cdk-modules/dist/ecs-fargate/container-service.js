"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ContainerService = void 0;
const constructs_1 = require("constructs");
const aws_ecs_1 = require("aws-cdk-lib/aws-ecs");
const constructs_2 = require("./constructs");
class ContainerService extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        const serviceDefinition = new constructs_2.CommonServiceDef(this, 'Definition', {
            fargate: props,
            serviceType: aws_ecs_1.FargateService
        });
        this._kmsKey = serviceDefinition.kmsKey;
        this._service = serviceDefinition.service;
    }
    get service() {
        return this._service;
    }
    get kmsKey() {
        return this._kmsKey;
    }
}
exports.ContainerService = ContainerService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGFpbmVyLXNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvZWNzLWZhcmdhdGUvY29udGFpbmVyLXNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQXNDO0FBQ3RDLGlEQUFvRDtBQUdwRCw2Q0FBK0M7QUFVL0MsTUFBYSxnQkFBaUIsU0FBUSxzQkFBUztJQVkzQyxZQUFhLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQWtDO1FBQ3pFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFaEIsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLDZCQUFnQixDQUFDLElBQUksRUFBRSxZQUFZLEVBQUU7WUFDL0QsT0FBTyxFQUFFLEtBQUs7WUFDZCxXQUFXLEVBQUUsd0JBQWM7U0FDOUIsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxDQUFDLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUE7UUFDdkMsSUFBSSxDQUFDLFFBQVEsR0FBRyxpQkFBaUIsQ0FBQyxPQUF5QixDQUFBO0lBQy9ELENBQUM7SUFqQkQsSUFBSSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUE7SUFDdkIsQ0FBQztDQVlKO0FBdEJELDRDQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbnN0cnVjdCB9IGZyb20gJ2NvbnN0cnVjdHMnXG5pbXBvcnQgeyBGYXJnYXRlU2VydmljZSB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1lY3MnXG5pbXBvcnQgeyBLZXkgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3Mta21zJ1xuaW1wb3J0IHsgRmFyZ2F0ZUF1dG9zY2FsaW5nUHJvcHMsIEZhcmdhdGVNb2R1bGVQcm9wcyB9IGZyb20gJy4vcHJvcHMnXG5pbXBvcnQgeyBDb21tb25TZXJ2aWNlRGVmIH0gZnJvbSAnLi9jb25zdHJ1Y3RzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lclNlcnZpY2VBdXRvc2NhbGluZ1Byb3BzIGV4dGVuZHMgRmFyZ2F0ZUF1dG9zY2FsaW5nUHJvcHMge1xuICAgIG1ldHJpYzogJ0NQVScgfCAnTWVtb3J5J1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lclNlcnZpY2VNb2R1bGVQcm9wcyBleHRlbmRzIEZhcmdhdGVNb2R1bGVQcm9wcyB7XG4gICAgYXV0b3NjYWxpbmc/OiBDb250YWluZXJTZXJ2aWNlQXV0b3NjYWxpbmdQcm9wc1xufVxuXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyU2VydmljZSBleHRlbmRzIENvbnN0cnVjdCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfa21zS2V5OiBLZXlcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zZXJ2aWNlOiBGYXJnYXRlU2VydmljZVxuXG4gICAgZ2V0IHNlcnZpY2UgKCk6IEZhcmdhdGVTZXJ2aWNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2VcbiAgICB9XG5cbiAgICBnZXQga21zS2V5ICgpOiBLZXkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa21zS2V5XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IgKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBDb250YWluZXJTZXJ2aWNlTW9kdWxlUHJvcHMpIHtcbiAgICAgICAgc3VwZXIoc2NvcGUsIGlkKVxuXG4gICAgICAgIGNvbnN0IHNlcnZpY2VEZWZpbml0aW9uID0gbmV3IENvbW1vblNlcnZpY2VEZWYodGhpcywgJ0RlZmluaXRpb24nLCB7XG4gICAgICAgICAgICBmYXJnYXRlOiBwcm9wcyxcbiAgICAgICAgICAgIHNlcnZpY2VUeXBlOiBGYXJnYXRlU2VydmljZVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLl9rbXNLZXkgPSBzZXJ2aWNlRGVmaW5pdGlvbi5rbXNLZXlcbiAgICAgICAgdGhpcy5fc2VydmljZSA9IHNlcnZpY2VEZWZpbml0aW9uLnNlcnZpY2UgYXMgRmFyZ2F0ZVNlcnZpY2VcbiAgICB9XG59XG4iXX0=