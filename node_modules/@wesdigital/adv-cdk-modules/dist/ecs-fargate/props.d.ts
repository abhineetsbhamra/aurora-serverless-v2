import { DataDogTagsConfig, DeploymentEnv } from '../wesdigital';
import { HealthCheck, MountPoint, Secret, Volume } from 'aws-cdk-lib/aws-ecs';
import { Duration } from 'aws-cdk-lib';
export interface FargateAutoscalingProps {
    max: number;
    min: number;
    metric: 'CPU' | 'Requests' | 'Memory';
    scaleInCooldown: Duration;
    scaleOutCooldown: Duration;
    targetValue: number;
}
export interface FargateModuleProps {
    containerName: string;
    clusterName: string;
    containerPort: number;
    deploymentEnv: DeploymentEnv;
    enableDatadogApm: boolean;
    taskHealthCheck?: HealthCheck;
    identifier: string;
    imageName: string;
    imageTag: string;
    logRetentionInDays: number;
    taskDefinitionCpu?: number;
    taskDefinitionMemory?: number;
    msk?: {
        consumerTopics: string[];
        consumerGroups: string[];
        producerTopics: string[];
    };
    dynamo?: {
        tableNames: string[];
        addKeysToTaskRole?: boolean;
    };
    taskSecrets?: {
        externalSecretConfig: {
            envVar: string;
            lastPartOfSecretName: string;
        }[];
        localSecrets: {
            [key: string]: Secret;
        };
        addKeysToTaskRole?: boolean;
    };
    envVars?: {
        task?: {
            [p: string]: string;
        };
        dataDog?: {
            [p: string]: string;
        };
    };
    volumes?: Volume[];
    taskMountPoints?: MountPoint[];
    autoscaling?: FargateAutoscalingProps;
    ddTagsConfig: Omit<DataDogTagsConfig, 'env'>;
}
